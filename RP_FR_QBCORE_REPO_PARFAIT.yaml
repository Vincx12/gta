$schema: https://raw.githubusercontent.com/citizenfx/txAdmin/master/schema.json

name: "RP FR QBCore - Repo Parfait"
author: "Vincx12 + txAdmin recipe"
description: "Installe une base QBCore complète (téléchargée depuis GitHub) + ressources FR custom."
version: "v9.1"

tasks:
  - action: download_github
    src: https://github.com/Vincx12/gta
    ref: main
    dest: ./temp

  # Crée la structure standard du serveur
  - action: ensure_dir
    path: ./resources

  # Copie server.cfg et ressources custom depuis le repo
  - action: move_path
    src: ./temp/recipe_files/server.cfg
    dest: ./server.cfg

  - action: move_path
    src: ./temp/recipe_files/resources
    dest: ./resources

  # ===== Téléchargement QBCore (officiel) =====
  # NOTE: si un repo n'existe pas/nom différent, le task échouera -> on ajuste à partir du log txAdmin.
  - action: download_github
    src: https://github.com/qbcore-framework/qb-core
    ref: main
    dest: ./resources/qb-core

  - action: download_github
    src: https://github.com/qbcore-framework/qb-menu
    ref: main
    dest: ./resources/qb-menu

  - action: download_github
    src: https://github.com/qbcore-framework/qb-input
    ref: main
    dest: ./resources/qb-input

  - action: download_github
    src: https://github.com/qbcore-framework/qb-target
    ref: main
    dest: ./resources/qb-target

  - action: download_github
    src: https://github.com/qbcore-framework/qb-smallresources
    ref: main
    dest: ./resources/qb-smallresources

  - action: download_github
    src: https://github.com/qbcore-framework/qb-policejob
    ref: main
    dest: ./resources/qb-policejob

  - action: download_github
    src: https://github.com/qbcore-framework/qb-ambulancejob
    ref: main
    dest: ./resources/qb-ambulancejob

  - action: download_github
    src: https://github.com/qbcore-framework/qb-mechanicjob
    ref: main
    dest: ./resources/qb-mechanicjob

  - action: download_github
    src: https://github.com/qbcore-framework/qb-vehicleshop
    ref: main
    dest: ./resources/qb-vehicleshop

  - action: download_github
    src: https://github.com/qbcore-framework/qb-shops
    ref: main
    dest: ./resources/qb-shops

  - action: download_github
    src: https://github.com/qbcore-framework/qb-fuel
    ref: main
    dest: ./resources/qb-fuel

  - action: download_github
    src: https://github.com/qbcore-framework/qb-customs
    ref: main
    dest: ./resources/qb-customs

  - action: download_github
    src: https://github.com/qbcore-framework/qb-speedcameras
    ref: main
    dest: ./resources/qb-speedcameras

  - action: download_github
    src: https://github.com/qbcore-framework/qb-sna-billing
    ref: main
    dest: ./resources/qb-sna-billing
