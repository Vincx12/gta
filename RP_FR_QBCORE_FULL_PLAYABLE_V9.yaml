$engine: 3
$onesync: on
name: "RP Sérieux FR — QBCore FULL (Prêt à jouer)"
version: "9.0.0-fr"
author: "txAdmin Recipe Pack (custom FR)"
description: "Basé sur la recette officielle QBCore + réglages FR + économie dure + customs + radars + facturation + tribunal + préfet. Prêt à jouer."

tasks:
  # Base files
  - action: download_github
    src: https://github.com/qbcore-framework/txAdminRecipe
    ref: main
    dest: ./tmp/qbcore

  # Use OUR server.cfg (FR)
  - action: move_path
    src: ./recipe_files/server.cfg
    dest: ./server.cfg

  - action: move_path
    src: ./tmp/qbcore/myLogo.png
    dest: ./myLogo.png

  # Database
  - action: connect_database
  - action: query_database
    file: ./tmp/qbcore/qbcore.sql

  # STANDALONE
  - action: download_github
    src: https://github.com/citizenfx/cfx-server-data
    subpath: resources
    dest: ./resources/[cfx-default]
  - action: remove_path
    path: ./resources/[cfx-default]/[gameplay]/chat

  - action: download_file
    path: ./tmp/files/oxmysql.zip
    url: https://github.com/overextended/oxmysql/releases/download/v2.12.0/oxmysql.zip
  - action: unzip
    dest: ./resources/[standalone]
    src: ./tmp/files/oxmysql.zip

  - action: download_github
    dest: ./resources/[standalone]/progressbar
    ref: main
    src: https://github.com/qbcore-framework/progressbar
  - action: download_github
    dest: ./resources/[standalone]/interact-sound
    ref: master
    src: https://github.com/qbcore-framework/interact-sound
  - action: download_github
    dest: ./resources/[standalone]/PolyZone
    ref: master
    src: https://github.com/qbcore-framework/PolyZone

  # VOICE
  - action: download_github
    dest: ./resources/[voice]/pma-voice
    ref: main
    src: https://github.com/AvarianKnight/pma-voice
  - action: download_github
    dest: ./resources/[voice]/qb-radio
    ref: main
    src: https://github.com/qbcore-framework/qb-radio

  # MAP
  - action: download_github
    dest: ./resources/[defaultmaps]/hospital_map
    ref: main
    src: https://github.com/qbcore-framework/hospital_map

  # QBCore resources (subset "prêt à jouer")
  - action: download_github
    dest: ./resources/[qb]/qb-core
    ref: main
    src: https://github.com/qbcore-framework/qb-core
  - action: download_github
    dest: ./resources/[qb]/qb-multicharacter
    ref: main
    src: https://github.com/qbcore-framework/qb-multicharacter
  - action: download_github
    dest: ./resources/[qb]/qb-spawn
    ref: main
    src: https://github.com/qbcore-framework/qb-spawn
  - action: download_github
    dest: ./resources/[qb]/qb-apartments
    ref: main
    src: https://github.com/qbcore-framework/qb-apartments
  - action: download_github
    dest: ./resources/[qb]/qb-target
    ref: main
    src: https://github.com/qbcore-framework/qb-target
  - action: download_github
    dest: ./resources/[qb]/qb-menu
    ref: main
    src: https://github.com/qbcore-framework/qb-menu
  - action: download_github
    dest: ./resources/[qb]/qb-input
    ref: main
    src: https://github.com/qbcore-framework/qb-input
  - action: download_github
    dest: ./resources/[qb]/qb-hud
    ref: main
    src: https://github.com/qbcore-framework/qb-hud
  - action: download_github
    dest: ./resources/[qb]/qb-inventory
    ref: main
    src: https://github.com/qbcore-framework/qb-inventory
  - action: download_github
    dest: ./resources/[qb]/qb-phone
    ref: main
    src: https://github.com/qbcore-framework/qb-phone
  - action: download_github
    dest: ./resources/[qb]/qb-weathersync
    ref: main
    src: https://github.com/qbcore-framework/qb-weathersync
  - action: download_github
    dest: ./resources/[qb]/qb-smallresources
    ref: main
    src: https://github.com/qbcore-framework/qb-smallresources
  - action: download_github
    dest: ./resources/[qb]/qb-radialmenu
    ref: main
    src: https://github.com/qbcore-framework/qb-radialmenu
  - action: download_github
    dest: ./resources/[qb]/qb-cityhall
    ref: main
    src: https://github.com/qbcore-framework/qb-cityhall
  - action: download_github
    dest: ./resources/[qb]/qb-banking
    ref: main
    src: https://github.com/qbcore-framework/qb-banking
  - action: download_github
    dest: ./resources/[qb]/qb-management
    ref: main
    src: https://github.com/qbcore-framework/qb-management
  - action: download_github
    dest: ./resources/[qb]/qb-garages
    ref: main
    src: https://github.com/qbcore-framework/qb-garages
  - action: download_github
    dest: ./resources/[qb]/qb-vehiclekeys
    ref: main
    src: https://github.com/qbcore-framework/qb-vehiclekeys
  - action: download_github
    dest: ./resources/[qb]/qb-clothing
    ref: main
    src: https://github.com/qbcore-framework/qb-clothing
  - action: download_github
    dest: ./resources/[qb]/qb-doorlock
    ref: main
    src: https://github.com/qbcore-framework/qb-doorlock
  - action: download_github
    dest: ./resources/[qb]/qb-shops
    ref: main
    src: https://github.com/qbcore-framework/qb-shops
  - action: download_github
    dest: ./resources/[qb]/qb-fuel
    ref: main
    src: https://github.com/qbcore-framework/qb-fuel

  # Jobs
  - action: download_github
    dest: ./resources/[qb]/qb-policejob
    ref: main
    src: https://github.com/qbcore-framework/qb-policejob
  - action: download_github
    dest: ./resources/[qb]/qb-ambulancejob
    ref: main
    src: https://github.com/qbcore-framework/qb-ambulancejob
  - action: download_github
    dest: ./resources/[qb]/qb-mechanicjob
    ref: main
    src: https://github.com/qbcore-framework/qb-mechanicjob
  - action: download_github
    dest: ./resources/[qb]/qb-vehicleshop
    ref: main
    src: https://github.com/qbcore-framework/qb-vehicleshop
  - action: download_github
    dest: ./resources/[qb]/qb-vehiclesales
    ref: main
    src: https://github.com/qbcore-framework/qb-vehiclesales
  - action: download_github
    dest: ./resources/[qb]/qb-taxijob
    ref: main
    src: https://github.com/qbcore-framework/qb-taxijob
  - action: download_github
    dest: ./resources/[qb]/qb-busjob
    ref: main
    src: https://github.com/qbcore-framework/qb-busjob
  - action: download_github
    dest: ./resources/[qb]/qb-newsjob
    ref: main
    src: https://github.com/qbcore-framework/qb-newsjob
  - action: download_github
    dest: ./resources/[qb]/qb-towjob
    ref: main
    src: https://github.com/qbcore-framework/qb-towjob
  - action: download_github
    dest: ./resources/[qb]/qb-garbagejob
    ref: main
    src: https://github.com/qbcore-framework/qb-garbagejob

  # Extras (community)
  - action: download_github
    dest: ./resources/[qb]/qb-customs
    ref: main
    src: https://github.com/xenfovn/qb-customs-2
  - action: download_github
    dest: ./resources/[qb]/qb-speedcameras
    ref: main
    src: https://github.com/tom-osborne/qb-speedcameras
  - action: download_github
    dest: ./resources/[qb]/qb-sna-billing
    ref: main
    src: https://github.com/Sna-aaa/qb-sna-billing
  - action: download_github
    dest: ./resources/[qb]/qb-lawyerjob
    ref: main
    src: https://github.com/viruspc2002/qb-lawyerjob

  # Apply our safe configs
  - action: move_path
    src: ./recipe_files/qbcore_config.lua
    dest: ./resources/[qb]/qb-core/config.lua
    overwrite: true
  - action: move_path
    src: ./recipe_files/qbcore_jobs.lua
    dest: ./resources/[qb]/qb-core/shared/jobs.lua
    overwrite: true
  - action: move_path
    src: ./recipe_files/qb_shops_config.lua
    dest: ./resources/[qb]/qb-shops/config.lua
    overwrite: true
  - action: move_path
    src: ./recipe_files/qb_fuel_config.lua
    dest: ./resources/[qb]/qb-fuel/config.lua
    overwrite: true
  - action: move_path
    src: ./recipe_files/qb_ambulance_config.lua
    dest: ./resources/[qb]/qb-ambulancejob/config.lua
    overwrite: true
  - action: move_path
    src: ./recipe_files/qb_police_config.lua
    dest: ./resources/[qb]/qb-policejob/config.lua
    overwrite: true
  - action: move_path
    src: ./recipe_files/qb_vehicleshop_config.lua
    dest: ./resources/[qb]/qb-vehicleshop/config.lua
    overwrite: true
  - action: move_path
    src: ./recipe_files/qb_speedcameras_config.lua
    dest: ./resources/[qb]/qb-speedcameras/config.lua
    overwrite: true
  - action: move_path
    src: ./recipe_files/qb_sna_billing_config.lua
    dest: ./resources/[qb]/qb-sna-billing/config.lua
    overwrite: true

  # Add local resources
  - action: copy_path
    src: ./recipe_files/qb-prefet
    dest: ./resources/[qb]/qb-prefet
  - action: copy_path
    src: ./recipe_files/qb-tribunal-basic
    dest: ./resources/[qb]/qb-tribunal-basic
  - action: copy_path
    src: ./recipe_files/ultra_realism
    dest: ./resources/[standalone]/ultra_realism

  # Cleanup
  - action: remove_path
    path: ./tmp
